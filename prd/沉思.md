# æ²‰æ€æ¨¡å¼ - äº§å“æ¶æ„è®¾è®¡æ–‡æ¡£

> **ç›®æ ‡**ï¼šåœ¨ç°æœ‰æ²‰æ·€æ¨¡å¼åŸºç¡€ä¸Šï¼Œæ–°å¢æ²‰æ€æ¨¡å¼ï¼Œå®ç°çŸ¥è¯†åº“å¬å› + ç”»å¸ƒå·¥ä½œ + AIå¯¹è¯çš„å®Œæ•´ä½“éªŒã€‚

---

## ğŸ¯ **äº§å“åŒæ¨¡å¼æ¶æ„**

### **æ¨¡å¼å®šä½**
- **æ²‰æ·€æ¨¡å¼** (å·²å®Œæˆ)ï¼šæ–‡ä»¶ä¸Šä¼  â†’ AIåˆ†æ â†’ ç»“æ„åŒ–ç¬”è®°ç”Ÿæˆ â†’ diffç¼–è¾‘
- **æ²‰æ€æ¨¡å¼** (å¾…å¼€å‘)ï¼šçŸ¥è¯†åº“ç®¡ç† â†’ æ™ºèƒ½å¬å› â†’ ç”»å¸ƒå·¥ä½œ â†’ æ·±åº¦å¯¹è¯

### **æ¨¡å¼åˆ‡æ¢è®¾è®¡**
```
æœ€å·¦ä¾§ç«–å‘æŒ‰é’®æ ï¼š
â”Œâ”€â”
â”‚ğŸ“–â”‚ â† æ²‰æ·€æ¨¡å¼ (å½“å‰æ¨¡å¼)
â”œâ”€â”¤
â”‚ğŸ“„â”‚
â”œâ”€â”¤
â”‚ğŸ§ â”‚ â† æ²‰æ€æ¨¡å¼ (æ–°å¢æ¨¡å¼)
â””â”€â”˜
```

---

## ğŸ§  **æ²‰æ€æ¨¡å¼ç•Œé¢è®¾è®¡**

### **æ•´ä½“å¸ƒå±€ç»“æ„**
```
â”Œâ”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ğŸ§ â”‚ ğŸ” æœç´¢æ¡†    â”‚                                                     â”‚
â”œâ”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               ğŸ¨ ç”»å¸ƒå·¥ä½œåŒº                          â”‚
â”‚ â”‚ ğŸ“‚ æ ‡ç­¾åˆ†ç±»   â”‚                                                     â”‚
â”‚ â”‚ â”œâ”€ æŠ€æœ¯(156) â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ â”œâ”€ å•†ä¸š(89)  â”‚     â”‚ ğŸ” è¾“å…¥æ¡†                            â”‚         â”‚
â”‚ â”‚ â””â”€ å­¦ä¹ (67)  â”‚     â”‚ "é—®æˆ‘ä»»ä½•é—®é¢˜..."                    â”‚         â”‚
â”‚ â”‚              â”‚     â”‚                                     â”‚         â”‚
â”‚ â”‚ ğŸ“„ ç¬”è®°åˆ—è¡¨   â”‚     â”‚ [æäº¤åç”Ÿæˆé—®é¢˜èŠ‚ç‚¹å’Œå¬å›å¡ç‰‡]       â”‚         â”‚
â”‚ â”‚ â”œâ”€ AIäº§å“è®¾è®¡ â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚ â”‚ â”œâ”€ ç”¨æˆ·ä½“éªŒ   â”‚                                                     â”‚
â”‚ â”‚ â”œâ”€ æŠ€æœ¯æ¶æ„   â”‚                                                     â”‚
â”‚ â”‚ â””â”€ ...       â”‚                                                     â”‚
â””â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ä¸‰æ å¸ƒå±€è¯´æ˜**
- **å·¦æ  (25%)**ï¼šç¬”è®°ç®¡ç†åŒºåŸŸ (æœç´¢ + åˆ†ç±» + åˆ—è¡¨)
- **å³æ  (75%)**ï¼šç”»å¸ƒå·¥ä½œåŒºåŸŸ (é—®é¢˜èŠ‚ç‚¹ + ç¬”è®°å¡ç‰‡ + æ¨èåŒº)

---

## ğŸ“ **å·¦ä¾§ç¬”è®°ç®¡ç†åŒºåŸŸ**

### **æœç´¢åŠŸèƒ½ - æµ®åŠ¨å¡ç‰‡è®¾è®¡**

#### **è§†è§‰è®¾è®¡å‚è€ƒ**
å‚è€ƒé¡¹ç›®ä¸­FloatingTOCç»„ä»¶çš„è¶…è½»ç›ˆæ¯›ç»ç’ƒæ•ˆæœï¼š

```css
/* æœç´¢å¡ç‰‡æ ·å¼ - å‚è€ƒ FloatingTOC çš„æ¯›ç»ç’ƒæ•ˆæœ */
.search-card {
  /* æ¯›ç»ç’ƒæ•ˆæœ */
  backdrop-filter: blur(32px) saturate(150%);
  -webkit-backdrop-filter: blur(32px) saturate(150%);
  background: rgba(255, 255, 255, 0.03);
  
  /* ç»†è¾¹æ¡† */
  border: 0.5px solid rgba(255, 255, 255, 0.08);
  
  /* åœ†è§’è®¾è®¡ - æ›´åŠ åœ†æ¶¦ */
  border-radius: 24px;
  
  /* å¤šå±‚é˜´å½±åˆ›é€ æ·±åº¦ */
  box-shadow: 
    0 24px 64px rgba(0, 0, 0, 0.03),
    0 12px 32px rgba(0, 0, 0, 0.02),
    0 6px 16px rgba(0, 0, 0, 0.01),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  
  /* å†…è¾¹è·å’Œå¤–è¾¹è· */
  margin: 20px;
  padding: 24px;
  
  /* åŠ¨ç”»è¿‡æ¸¡ */
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* æŠ˜å çŠ¶æ€ */
.search-card.collapsed {
  width: 56px;
  height: 56px;
  padding: 16px;
  margin-left: 8px;
  cursor: pointer;
  border-radius: 28px;
}

/* æ‚¬æµ®æ•ˆæœ */
.search-card:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 32px 72px rgba(0, 0, 0, 0.04),
    0 16px 40px rgba(0, 0, 0, 0.03),
    0 8px 20px rgba(0, 0, 0, 0.02);
}
```

#### **å±•å¼€çŠ¶æ€è®¾è®¡**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                      â”‚  <- ä¸Šè¾¹è· 20px
â”‚  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®    â”‚
â”‚  â”‚  ğŸ”  æœç´¢ç¬”è®°...             â”‚    â”‚  <- æ¯›ç»ç’ƒå¡ç‰‡
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚
â”‚  â”‚  ğŸ’¡ è¯•è¯•: #æ ‡ç­¾ æˆ– "å…³é”®è¯"   â”‚    â”‚
â”‚  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯    â”‚
â”‚                                      â”‚  <- ä¸‹è¾¹è· 20px
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

ç»†èŠ‚ï¼š
- è¶…è½»é€æ˜èƒŒæ™¯ï¼šrgba(255, 255, 255, 0.03)
- é«˜æ–¯æ¨¡ç³Šï¼šblur(32px) + saturate(150%)
- åœ†æ¶¦è¾¹è§’ï¼šborder-radius: 24px
- æ‚¬æµ®é˜´å½±ï¼šå¤šå±‚å åŠ åˆ›é€ æ·±åº¦æ„Ÿ
```

#### **æŠ˜å çŠ¶æ€è®¾è®¡**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—‰ ğŸ”                                 â”‚  <- æŠ˜å åˆ°è¾¹ç¼˜çš„æœç´¢æŒ‰é’®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

åŠ¨ç”»æ•ˆæœï¼š
- å¹³æ»‘æ”¶ç¼©ï¼šcubic-bezier(0.4, 0, 0.2, 1)
- å›¾æ ‡æ—‹è½¬ï¼šrotate(360deg) 0.6s
- é€æ˜åº¦å˜åŒ–ï¼šä» 1 åˆ° 0.8
```

#### **æœç´¢äº¤äº’ç»†èŠ‚**
```typescript
interface SearchCardProps {
  isExpanded: boolean
  onToggle: () => void
  onSearch: (query: string, filters: SearchFilters) => void
}

interface SearchFilters {
  mode: 'keyword' | 'tag' | 'semantic'
  tags: string[]
  dateRange?: { from: Date; to: Date }
  domains?: string[]
}

// æœç´¢è¯­æ³•æ”¯æŒ
const searchSyntax = {
  keyword: '"aiäº§å“"',              // ç²¾ç¡®åŒ¹é…
  tag: '#æŠ€æœ¯ #å‰ç«¯',               // æ ‡ç­¾ç»„åˆ
  mixed: 'react #å‰ç«¯',             // æ··åˆæœç´¢
  semantic: '~å¦‚ä½•å­¦ä¹ ç¼–ç¨‹',         // è¯­ä¹‰æœç´¢ï¼ˆ~ å‰ç¼€ï¼‰
  exclude: 'react -native',         // æ’é™¤å…³é”®è¯
  domain: '@æŠ€æœ¯/å‰ç«¯',             // é¢†åŸŸæœç´¢
}
```

#### **åŠ¨ç”»æ•ˆæœ**
```css
/* æ·¡å…¥ä¸Šå‡æ•ˆæœ - å‚è€ƒ FloatingTOC */
@keyframes searchCardFadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* æŠ˜å åŠ¨ç”» */
@keyframes collapseToEdge {
  0% {
    width: 100%;
    opacity: 1;
  }
  50% {
    opacity: 0.8;
    transform: scale(0.95);
  }
  100% {
    width: 56px;
    opacity: 1;
    transform: translateX(-80%);
  }
}
```

### **æ ‡ç­¾åˆ†ç±»ç³»ç»Ÿ**
```
ğŸ“‚ æŒ‰è¡Œä¸šåˆ†ç±»
â”œâ”€ ğŸ’¼ æŠ€æœ¯ (156)
â”‚   â”œâ”€ å‰ç«¯å¼€å‘ (45)
â”‚   â”œâ”€ åç«¯å¼€å‘ (38)
â”‚   â””â”€ AI/ML (73)
â”œâ”€ ğŸ“Š å•†ä¸š (89)
â”‚   â”œâ”€ äº§å“è®¾è®¡ (34)
â”‚   â”œâ”€ ç”¨æˆ·ä½“éªŒ (28)
â”‚   â””â”€ è¿è¥ç­–ç•¥ (27)
â””â”€ ğŸ“š å­¦ä¹  (67)

ğŸ“… æŒ‰æ—¶é—´åˆ†ç±»
â”œâ”€ ä»Šå¤© (5)
â”œâ”€ æœ¬å‘¨ (23)
â”œâ”€ æœ¬æœˆ (78)
â””â”€ æ›´æ—© (234)

ğŸ·ï¸ æ™ºèƒ½åˆ†ç±»
â”œâ”€ å¸¸ç”¨ (34)
â”œâ”€ æ”¶è— (12)
â”œâ”€ æœ€è¿‘è®¿é—® (28)
â””â”€ é‡è¦ç¨‹åº¦é«˜ (19)
```

### **ç¬”è®°åˆ—è¡¨å±•ç¤º**
```
ğŸ“„ ã€ŠAIäº§å“è®¾è®¡æ€è€ƒã€‹
ğŸ’¡ æœ¬æ–‡æ¢è®¨äº†AIäº§å“è®¾è®¡çš„æ ¸å¿ƒåŸåˆ™å’Œç”¨æˆ·ä½“éªŒè€ƒè™‘...
ğŸ·ï¸ #äº§å“è®¾è®¡ #äººå·¥æ™ºèƒ½ #ç”¨æˆ·ä½“éªŒ
ğŸ“… 2024-01-15 | ğŸ“– 5åˆ†é’Ÿé˜…è¯» | ğŸ‘ï¸ å·²é˜…è¯»3æ¬¡

ğŸ“„ ã€Šç”¨æˆ·ä½“éªŒè®¾è®¡åŸåˆ™ã€‹
ğŸ’¡ å¥½çš„ç”¨æˆ·ä½“éªŒè®¾è®¡åº”è¯¥éµå¾ªä»¥ä¸‹åŸºæœ¬åŸåˆ™å’Œæ–¹æ³•...
ğŸ·ï¸ #ç”¨æˆ·ä½“éªŒ #è®¾è®¡åŸåˆ™ #äº¤äº’è®¾è®¡
ğŸ“… 2024-01-12 | ğŸ“– 3åˆ†é’Ÿé˜…è¯» | â­ å·²æ”¶è—

[æ›´å¤šç¬”è®°...]
```

---

## ğŸ¨ **ç”»å¸ƒå·¥ä½œåŒºåŸŸ**

### **åˆå§‹çŠ¶æ€**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚                                                             â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚              â”‚ ğŸ” è¾“å…¥æ¡†                        â”‚             â”‚
â”‚              â”‚ é—®æˆ‘ä»»ä½•é—®é¢˜...                  â”‚             â”‚
â”‚              â”‚                                 â”‚             â”‚
â”‚              â”‚ ğŸ’¡ ä¾‹å¦‚ï¼šå¦‚ä½•è®¾è®¡å¥½çš„AIäº§å“ï¼Ÿ    â”‚             â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **æäº¤é—®é¢˜åçš„çŠ¶æ€**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚ â”‚ ğŸ’¬ é—®é¢˜èŠ‚ç‚¹                          â”‚                     â”‚
â”‚ â”‚ "å¦‚ä½•è®¾è®¡å¥½çš„AIäº§å“ï¼Ÿ"                â”‚                     â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                     â”‚
â”‚ â”‚ ğŸ¤– AI: åŸºäºä½ çš„çŸ¥è¯†åº“ï¼Œæˆ‘æ€»ç»“äº†      â”‚                     â”‚
â”‚ â”‚ å‡ ä¸ªæ ¸å¿ƒè¦ç‚¹ï¼šé€æ˜æ€§ã€å¯æ§æ€§...      â”‚                     â”‚
â”‚ â”‚                                     â”‚                     â”‚
â”‚ â”‚ ğŸ“ ç»§ç»­æé—®...                       â”‚                     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚        â†“ è¿æ¥çº¿      â†“ è¿æ¥çº¿      â†“ è¿æ¥çº¿                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚ â”‚ ğŸ“„ ç¬”è®°å¡ç‰‡1 â”‚ â”‚ ğŸ“„ ç¬”è®°å¡ç‰‡2 â”‚ â”‚ ğŸ“„ ç¬”è®°å¡ç‰‡3 â”‚             â”‚
â”‚ â”‚ AIäº§å“è®¾è®¡   â”‚ â”‚ ç”¨æˆ·ä½“éªŒ     â”‚ â”‚ äº§å“ç­–ç•¥     â”‚             â”‚
â”‚ â”‚ æ€è€ƒ         â”‚ â”‚ è®¾è®¡åŸåˆ™     â”‚ â”‚ åˆ¶å®šæ–¹æ³•     â”‚             â”‚
â”‚ â”‚ #äº§å“ #AI   â”‚ â”‚ #UX #è®¾è®¡   â”‚ â”‚ #ç­–ç•¥ #äº§å“ â”‚             â”‚
â”‚ â”‚ ğŸ” åŒå‡»å±•å¼€  â”‚ â”‚ ğŸ” åŒå‡»å±•å¼€  â”‚ â”‚ ğŸ” åŒå‡»å±•å¼€  â”‚             â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                             â”‚
â”‚ ğŸ” æ¨èå¬å›åŒºï¼š                                              â”‚
â”‚ [è®¾è®¡æ–¹æ³•è®º] [AIä¼¦ç†] [äº§å“è¿­ä»£] â† å¯æ‹–æ‹½åˆ°ç”»å¸ƒåŠ å…¥ä¸Šä¸‹æ–‡     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ **æ ¸å¿ƒäº¤äº’æµç¨‹**

### **1. é¦–æ¬¡å¬å›æµç¨‹**
```
ç”¨æˆ·è¾“å…¥é—®é¢˜
     â†“
AIåˆ†æé—®é¢˜è¯­ä¹‰å’Œå…³é”®è¯
     â†“
ä»çŸ¥è¯†åº“ä¸­å¬å›æœ€ç›¸å…³çš„ç¬”è®° (é€šå¸¸3-5ä¸ª)
     â†“
ç”Ÿæˆé—®é¢˜èŠ‚ç‚¹å¹¶è¿æ¥å¬å›çš„ç¬”è®°å¡ç‰‡
     â†“
AIåŸºäºå¬å›çš„ç¬”è®°å†…å®¹ç”Ÿæˆå›ç­”
     â†“
åœ¨æ¨èåŒºæ˜¾ç¤ºæ›´å¤šç›¸å…³ç¬”è®°
```

### **2. æŒç»­å¯¹è¯æµç¨‹**
```
ç”¨æˆ·åœ¨é—®é¢˜èŠ‚ç‚¹ç»§ç»­æé—®
     â†“
AIä»¥å½“å‰è¿æ¥çš„ç¬”è®°ä½œä¸ºä¸Šä¸‹æ–‡
     â†“
ç”Ÿæˆæ›´ç²¾å‡†çš„å›ç­”
     â†“
è§¦å‘æ–°ä¸€è½®å¬å›ï¼Œæ¨èæ›´å¤šç›¸å…³å†…å®¹
```

### **3. ä¸Šä¸‹æ–‡æ‰©å±•æµç¨‹**
```
ç”¨æˆ·ä»æ¨èåŒºæ‹–æ‹½ç¬”è®°åˆ°ç”»å¸ƒ
     â†“
è‡ªåŠ¨è¿æ¥åˆ°é—®é¢˜èŠ‚ç‚¹
     â†“
æˆä¸ºæ–°çš„ä¸Šä¸‹æ–‡å‚ä¸åç»­å¯¹è¯
     â†“
AIå›ç­”è´¨é‡è¿›ä¸€æ­¥æå‡
```

### **4. ç¬”è®°è¯¦æƒ…æŸ¥çœ‹**
```
åŒå‡»ä»»æ„ç¬”è®°å¡ç‰‡
     â†“
æ‰“å¼€ç¬”è®°è¯¦æƒ…çª—å£ (å å±å¹•70%)
     â†“
å·¦ä¾§60%: ç»“æ„åŒ–ç¬”è®°å†…å®¹ (å¯åˆ‡æ¢åŸæ–‡)
å³ä¾§40%: é’ˆå¯¹è¯¥ç¬”è®°çš„AIåŠ©æ‰‹
     â†“
æ”¯æŒç¼–è¾‘æ¨¡å¼ (ç±»ä¼¼å½“å‰çš„æ²‰æ·€æ¨¡å¼)
```

---

## ğŸ—‚ï¸ **æ ‡ç­¾åˆ†ç±»ç³»ç»Ÿè®¾è®¡**

### **AIæ™ºèƒ½æ ‡ç­¾ç”Ÿæˆ**
```typescript
// æ ‡ç­¾ç”Ÿæˆç»´åº¦
interface TagSystem {
  contentType: {
    docType: "æ–‡ç« " | "è®ºæ–‡" | "æŠ¥å‘Š" | "ç¬”è®°" | "æ•™ç¨‹"
    mediaType: "æ–‡æœ¬" | "å›¾ç‰‡" | "è§†é¢‘" | "PDF"
    sourceType: "ç½‘é¡µ" | "æœ¬åœ°æ–‡ä»¶" | "å¯¼å…¥"
  }
  
  domain: {
    primary: string        // ä¸»è¦é¢†åŸŸï¼šæŠ€æœ¯ã€å•†ä¸šã€å­¦æœ¯
    secondary: string[]    // æ¬¡è¦é¢†åŸŸï¼šå‰ç«¯ã€äº§å“è®¾è®¡
    keywords: string[]     // å…³é”®è¯ï¼šReactã€ç”¨æˆ·ä½“éªŒ
  }
  
  cognitive: {
    complexity: "å…¥é—¨" | "ä¸­çº§" | "é«˜çº§" | "ä¸“å®¶"
    knowledgeType: "äº‹å®" | "æ¦‚å¿µ" | "åŸç†" | "æ–¹æ³•" | "æ¡ˆä¾‹"
    abstractLevel: "å…·ä½“" | "æŠ½è±¡" | "ç†è®º" | "å®è·µ"
  }
  
  functional: {
    purpose: "å­¦ä¹ èµ„æ–™" | "å·¥ä½œå‚è€ƒ" | "çµæ„Ÿæ¥æº" | "é¡¹ç›®èµ„æ–™"
    importance: "æ ¸å¿ƒ" | "é‡è¦" | "ä¸€èˆ¬" | "å‚è€ƒ"
    urgency: "ç´§æ€¥" | "é‡è¦ä¸ç´§æ€¥" | "ä¸€èˆ¬" | "å­˜æ¡£"
  }
}
```

### **åŠ¨æ€æ ‡ç­¾æ–‡ä»¶å¤¹**
```typescript
// æ”¯æŒå¤æ‚çš„æ ‡ç­¾æŸ¥è¯¢ç»„åˆ
interface SmartFolder {
  name: string
  tagQuery: string[]
  logic: "AND" | "OR" | "NOT"
  
  // ç¤ºä¾‹
  {
    name: "æŠ€æœ¯-å‰ç«¯-React",
    tagQuery: ["æŠ€æœ¯", "å‰ç«¯", "React"],
    logic: "AND"
  },
  {
    name: "é‡è¦å­¦ä¹ èµ„æ–™",
    tagQuery: ["å­¦ä¹ èµ„æ–™", "é‡è¦"],
    logic: "AND"
  }
}
```

---

## ğŸ’¾ **æ•°æ®ç»“æ„è®¾è®¡**

### **ç¬”è®°æ–‡æ¡£ç»“æ„**
```typescript
interface Note {
  id: string
  title: string
  content: string              // ç»“æ„åŒ–ç¬”è®°å†…å®¹
  originalContent: string      // åŸå§‹æ–‡æ¡£å†…å®¹
  summary: string              // AIç”Ÿæˆçš„æ‘˜è¦
  tags: TagSystem              // ç»“æ„åŒ–æ ‡ç­¾
  createdAt: Date
  updatedAt: Date
  lastAccessedAt: Date         // æœ€åè®¿é—®æ—¶é—´
  accessCount: number          // è®¿é—®æ¬¡æ•°
  isStarred: boolean          // æ˜¯å¦æ”¶è—
  metadata: {
    wordCount: number
    readingTime: number        // é¢„ä¼°é˜…è¯»æ—¶é—´(åˆ†é’Ÿ)
    sourceType: 'upload' | 'import' | 'manual'
    sourceUrl?: string         // å¦‚æœæ¥è‡ªç½‘é¡µ
    fileType?: string          // åŸå§‹æ–‡ä»¶ç±»å‹
  }
  embedding?: number[]         // å‘é‡åµŒå…¥(ç”¨äºè¯­ä¹‰æœç´¢)
}
```

### **ç”»å¸ƒçŠ¶æ€ç»“æ„**
```typescript
interface Canvas {
  id: string
  title?: string               // ç”»å¸ƒæ ‡é¢˜(å¯é€‰)
  questionNode: QuestionNode
  connectedNotes: ConnectedNote[]
  recommendedNotes: Note[]
  viewport: {
    x: number
    y: number
    zoom: number
  }
  createdAt: Date
  updatedAt: Date
}

interface QuestionNode {
  id: string
  question: string
  aiResponse: string
  conversation: Message[]
  position: { x: number, y: number }
}

interface ConnectedNote {
  noteId: string
  position: { x: number, y: number }
  size: 'small' | 'medium' | 'large'
  connectionStrength: number   // ä¸é—®é¢˜çš„ç›¸å…³æ€§è¯„åˆ†
}

interface Message {
  id: string
  type: 'user' | 'ai'
  content: string
  timestamp: Date
  contextNoteIds: string[]     // æ­¤æ¶ˆæ¯çš„ä¸Šä¸‹æ–‡ç¬”è®°
}
```

### **æœç´¢ç´¢å¼•ç»“æ„**
```typescript
interface SearchIndex {
  noteId: string
  title: string
  content: string
  tags: string[]
  fullText: string             // æ ‡é¢˜+å†…å®¹+æ ‡ç­¾çš„å…¨æ–‡æœ¬
  embedding: number[]          // è¯­ä¹‰æœç´¢å‘é‡
  metadata: {
    boost: number             // æœç´¢æƒé‡åŠ æƒ
    popularity: number        // åŸºäºè®¿é—®é¢‘ç‡çš„çƒ­åº¦
    recency: number          // åŸºäºæ—¶é—´çš„æ–°é²œåº¦
  }
}
```

---

## ğŸ¯ **å¼€å‘ä¼˜å…ˆçº§ä¸é‡Œç¨‹ç¢‘**

### **Phase 1: åŸºç¡€è®¾æ–½ (Week 1-2)**
1. **æ¨¡å¼åˆ‡æ¢åŠŸèƒ½**
   - å·¦ä¾§ç«–å‘æŒ‰é’®æ 
   - æ²‰æ·€æ¨¡å¼ä¸æ²‰æ€æ¨¡å¼åˆ‡æ¢

2. **ç¬”è®°æŒä¹…åŒ–ç³»ç»Ÿ**
   - IndexedDBæ•°æ®åº“è®¾è®¡
   - ä»æ²‰æ·€æ¨¡å¼ä¿å­˜ç¬”è®°åˆ°æ•°æ®åº“
   - åŸºç¡€çš„CRUDæ“ä½œ

3. **æ²‰æ€æ¨¡å¼ç•Œé¢æ¡†æ¶**
   - ä¸‰æ å¸ƒå±€æ­å»º
   - åŸºç¡€ç»„ä»¶ç»“æ„

### **Phase 2: æ ¸å¿ƒåŠŸèƒ½ (Week 3-4)**
4. **æ ‡ç­¾ç³»ç»Ÿ**
   - AIæ ‡ç­¾ç”Ÿæˆé›†æˆ
   - æ ‡ç­¾åˆ†ç±»å±•ç¤º
   - æ™ºèƒ½æ–‡ä»¶å¤¹åŠŸèƒ½

5. **ç¬”è®°ç®¡ç†åŠŸèƒ½**
   - ç¬”è®°åˆ—è¡¨å±•ç¤º
   - åŸºç¡€æœç´¢åŠŸèƒ½
   - åˆ†ç±»ç­›é€‰

6. **ç”»å¸ƒåŸºç¡€åŠŸèƒ½**
   - ä¸­å¤®è¾“å…¥æ¡†
   - é—®é¢˜èŠ‚ç‚¹ç”Ÿæˆ
   - ç¬”è®°å¡ç‰‡å±•ç¤º

### **Phase 3: æ™ºèƒ½åŠŸèƒ½ (Week 5-6)**
7. **æ™ºèƒ½å¬å›ç³»ç»Ÿ**
   - åŸºäºè¯­ä¹‰çš„ç¬”è®°å¬å›ç®—æ³•
   - ç›¸å…³æ€§è¯„åˆ†
   - æ¨èç¬”è®°åŠŸèƒ½

8. **ç”»å¸ƒäº¤äº’**
   - èŠ‚ç‚¹è¿çº¿å¯è§†åŒ–
   - æ‹–æ‹½äº¤äº’
   - å¡ç‰‡å°ºå¯¸è°ƒæ•´

9. **AIå¯¹è¯é›†æˆ**
   - é—®é¢˜èŠ‚ç‚¹çš„å¯¹è¯åŠŸèƒ½
   - ä¸Šä¸‹æ–‡ç®¡ç†
   - æµå¼å›ç­”

### **Phase 4: ä½“éªŒä¼˜åŒ– (Week 7-8)**
10. **ç¬”è®°è¯¦æƒ…çª—å£**
    - åŒå‡»æ‰“å¼€è¯¦æƒ…
    - ç¼–è¾‘æ¨¡å¼é›†æˆ
    - é’ˆå¯¹æ€§AIåŠ©æ‰‹

11. **é«˜çº§æœç´¢**
    - è¯­ä¹‰æœç´¢
    - å¤æ‚æŸ¥è¯¢è¯­æ³•
    - æœç´¢ç»“æœæ’åº

12. **æ€§èƒ½ä¸ä½“éªŒä¼˜åŒ–**
    - è™šæ‹ŸåŒ–æ¸²æŸ“
    - ç¼“å­˜ç­–ç•¥
    - å“åº”å¼è®¾è®¡

---

## ğŸ› ï¸ **å…·ä½“å®ç°æ–¹æ¡ˆ**

### **ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæ²‰æ€æ¨¡å¼çš„åŸºç¡€æ¶æ„å’Œæ¨¡å¼åˆ‡æ¢åŠŸèƒ½**

#### **1. æ¨¡å¼åˆ‡æ¢æŒ‰é’®è®¾è®¡**

æ ¹æ®é¡¹ç›®ç°æœ‰æ¶æ„ï¼Œåœ¨TabBarç»„ä»¶ä¸­æ·»åŠ æ¨¡å¼åˆ‡æ¢åŠŸèƒ½ï¼š

```typescript
// 1. å®šä¹‰æ¨¡å¼ç±»å‹
export type AppMode = 'sediment' | 'thinking'  // æ²‰æ·€æ¨¡å¼ | æ²‰æ€æ¨¡å¼

// 2. æ¨¡å¼é…ç½®
const modeConfig = {
  sediment: {
    icon: 'ğŸ“',
    label: 'æ²‰æ·€æ¨¡å¼',
    description: 'æ–‡æ¡£åˆ†æä¸ç¬”è®°ç”Ÿæˆ',
    shortcut: 'âŒ˜+1'
  },
  thinking: {
    icon: 'ğŸ§ ',
    label: 'æ²‰æ€æ¨¡å¼',
    description: 'çŸ¥è¯†å¬å›ä¸æ·±åº¦å¯¹è¯',
    shortcut: 'âŒ˜+2'
  }
}
```

#### **2. ä¿®æ”¹TabBarç»„ä»¶**

åœ¨ `/src/components/TabBar.tsx` ä¸­æ·»åŠ æ¨¡å¼åˆ‡æ¢æŒ‰é’®ï¼š

```tsx
// TabBarç»„ä»¶æ”¹é€ 
export function TabBar({ currentMode, onModeChange }) {
  return (
    <div className="tab-bar">
      {/* å·¦ä¾§ï¼šæ¨¡å¼åˆ‡æ¢åŒºåŸŸ */}
      <div className="mode-switcher">
        <button 
          className={`mode-btn ${currentMode === 'sediment' ? 'active' : ''}`}
          onClick={() => onModeChange('sediment')}
          title="æ²‰æ·€æ¨¡å¼ (âŒ˜+1)"
        >
          ğŸ“
        </button>
        <button 
          className={`mode-btn ${currentMode === 'thinking' ? 'active' : ''}`}
          onClick={() => onModeChange('thinking')}
          title="æ²‰æ€æ¨¡å¼ (âŒ˜+2)"
        >
          ğŸ§ 
        </button>
      </div>
      
      {/* åˆ†éš”çº¿ */}
      <div className="mode-divider" />
      
      {/* å³ä¾§ï¼šåŸæœ‰çš„æ ‡ç­¾é¡µåŒºåŸŸï¼ˆä»…åœ¨æ²‰æ·€æ¨¡å¼æ˜¾ç¤ºï¼‰ */}
      {currentMode === 'sediment' && (
        <div className="tabs-area">
          {/* åŸæœ‰çš„tabså†…å®¹ */}
        </div>
      )}
    </div>
  )
}
```

#### **3. æ¨¡å¼åˆ‡æ¢æ ·å¼**

```css
/* æ¨¡å¼åˆ‡æ¢æŒ‰é’®æ ·å¼ */
.mode-switcher {
  display: flex;
  gap: 4px;
  padding: 4px;
  background: rgba(0, 0, 0, 0.02);
  border-radius: 10px;
  margin-right: 12px;
}

.mode-btn {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  background: transparent;
  border-radius: 8px;
  font-size: 20px;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

.mode-btn:hover {
  background: rgba(0, 0, 0, 0.05);
  transform: translateY(-1px);
}

.mode-btn.active {
  background: white;
  box-shadow: 
    0 2px 8px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

.mode-btn.active::after {
  content: '';
  position: absolute;
  bottom: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 4px;
  height: 4px;
  background: #3b82f6;
  border-radius: 50%;
}

.mode-divider {
  width: 1px;
  height: 32px;
  background: rgba(0, 0, 0, 0.08);
  margin: 0 8px;
  align-self: center;
}
```

#### **4. ä¸»é¡µé¢çŠ¶æ€ç®¡ç†**

åœ¨ `/src/app/page.tsx` ä¸­æ·»åŠ æ¨¡å¼çŠ¶æ€ï¼š

```typescript
export default function Home() {
  // æ·»åŠ æ¨¡å¼çŠ¶æ€
  const [appMode, setAppMode] = useState<AppMode>('sediment')
  
  // å¤„ç†æ¨¡å¼åˆ‡æ¢
  const handleModeChange = (mode: AppMode) => {
    setAppMode(mode)
    // å¯ä»¥æ·»åŠ åŠ¨ç”»æ•ˆæœæˆ–å…¶ä»–é€»è¾‘
  }
  
  // å¿«æ·é”®æ”¯æŒ
  useEffect(() => {
    const handleKeyDown = (e: KeyboardEvent) => {
      if (e.metaKey || e.ctrlKey) {
        if (e.key === '1') {
          e.preventDefault()
          handleModeChange('sediment')
        } else if (e.key === '2') {
          e.preventDefault()
          handleModeChange('thinking')
        }
      }
    }
    
    window.addEventListener('keydown', handleKeyDown)
    return () => window.removeEventListener('keydown', handleKeyDown)
  }, [])
  
  return (
    <div className="app">
      <TabBar 
        currentMode={appMode}
        onModeChange={handleModeChange}
        // ... å…¶ä»–props
      />
      
      {/* æ ¹æ®æ¨¡å¼æ¸²æŸ“ä¸åŒå†…å®¹ */}
      <div className="app-content">
        {appMode === 'sediment' ? (
          <SedimentMode />  // åŸæœ‰çš„æ²‰æ·€æ¨¡å¼å†…å®¹
        ) : (
          <ThinkingMode />  // æ–°çš„æ²‰æ€æ¨¡å¼å†…å®¹
        )}
      </div>
    </div>
  )
}
```

#### **5. åˆ›å»ºæ²‰æ€æ¨¡å¼å®¹å™¨ç»„ä»¶**

åˆ›å»º `/src/components/thinking-mode/ThinkingMode.tsx`ï¼š

```typescript
export function ThinkingMode() {
  return (
    <div className="thinking-mode">
      {/* ä¸‰æ å¸ƒå±€ */}
      <div className="thinking-layout">
        {/* å·¦ä¾§ï¼šç¬”è®°ç®¡ç† */}
        <aside className="notes-sidebar">
          <SearchCard />
          <NotesTree />
        </aside>
        
        {/* å³ä¾§ï¼šç”»å¸ƒå·¥ä½œåŒº */}
        <main className="canvas-workspace">
          <CanvasArea />
        </main>
      </div>
    </div>
  )
}
```

#### **6. å¸ƒå±€æ ·å¼**

```css
.thinking-mode {
  width: 100%;
  height: calc(100vh - 60px); /* å‡å»TabBaré«˜åº¦ */
  overflow: hidden;
}

.thinking-layout {
  display: grid;
  grid-template-columns: 320px 1fr;  /* å·¦ä¾§320pxï¼Œå³ä¾§è‡ªé€‚åº” */
  height: 100%;
  gap: 0;
}

.notes-sidebar {
  background: #f8fafc;
  border-right: 1px solid rgba(0, 0, 0, 0.08);
  overflow-y: auto;
  overflow-x: hidden;
}

.canvas-workspace {
  background: #ffffff;
  position: relative;
  overflow: hidden;
}
```

#### **7. çŠ¶æ€æŒä¹…åŒ–**

ä½¿ç”¨ localStorage è®°ä½ç”¨æˆ·çš„æ¨¡å¼é€‰æ‹©ï¼š

```typescript
// è¯»å–ä¿å­˜çš„æ¨¡å¼
const savedMode = localStorage.getItem('app-mode') as AppMode || 'sediment'
const [appMode, setAppMode] = useState<AppMode>(savedMode)

// ä¿å­˜æ¨¡å¼é€‰æ‹©
const handleModeChange = (mode: AppMode) => {
  setAppMode(mode)
  localStorage.setItem('app-mode', mode)
}
```

#### **8. å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»**

```css
/* æ¨¡å¼åˆ‡æ¢åŠ¨ç”» */
.app-content {
  position: relative;
  height: calc(100vh - 60px);
  overflow: hidden;
}

.sediment-mode,
.thinking-mode {
  position: absolute;
  inset: 0;
  animation: modeTransition 0.3s ease-out;
}

@keyframes modeTransition {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
```

#### **9. æ–‡ä»¶ç»“æ„è§„åˆ’**

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ TabBar.tsx              (ä¿®æ”¹ï¼šæ·»åŠ æ¨¡å¼åˆ‡æ¢)
â”‚   â””â”€â”€ thinking-mode/          (æ–°å¢ç›®å½•)
â”‚       â”œâ”€â”€ ThinkingMode.tsx    (æ²‰æ€æ¨¡å¼ä¸»å®¹å™¨)
â”‚       â”œâ”€â”€ SearchCard.tsx      (æœç´¢å¡ç‰‡ç»„ä»¶)
â”‚       â”œâ”€â”€ NotesTree.tsx       (ç¬”è®°åˆ—è¡¨ç»„ä»¶)
â”‚       â”œâ”€â”€ CanvasArea.tsx      (ç”»å¸ƒå·¥ä½œåŒº)
â”‚       â””â”€â”€ index.ts            (ç»Ÿä¸€å¯¼å‡º)
â”œâ”€â”€ app/
â”‚   â””â”€â”€ page.tsx                (ä¿®æ”¹ï¼šæ·»åŠ æ¨¡å¼çŠ¶æ€ç®¡ç†)
â””â”€â”€ types/
    â””â”€â”€ thinking.ts             (æ–°å¢ï¼šæ²‰æ€æ¨¡å¼ç›¸å…³ç±»å‹å®šä¹‰)
```

---

## ğŸ”§ **æŠ€æœ¯å®ç°è¦ç‚¹**

### **å‰ç«¯æŠ€æœ¯æ ˆ**
- **React 18 + TypeScript**: ä¿æŒä¸æ²‰æ·€æ¨¡å¼ä¸€è‡´
- **TanStack Query**: æ•°æ®è·å–å’Œç¼“å­˜
- **React Flow**: ç”»å¸ƒèŠ‚ç‚¹å’Œè¿çº¿å¯è§†åŒ–
- **Fuse.js**: å®¢æˆ·ç«¯æ¨¡ç³Šæœç´¢
- **IndexedDB**: æœ¬åœ°æ•°æ®å­˜å‚¨

### **AIé›†æˆ**
- **æ ‡ç­¾ç”Ÿæˆ**: å¤ç”¨ç°æœ‰çš„AIåˆ†ææ¥å£
- **è¯­ä¹‰æœç´¢**: é›†æˆå‘é‡åµŒå…¥å’Œç›¸ä¼¼åº¦è®¡ç®—
- **æ™ºèƒ½å¬å›**: åŸºäºé—®é¢˜è¯­ä¹‰åŒ¹é…ç›¸å…³ç¬”è®°
- **å¯¹è¯ç®¡ç†**: æ‰©å±•ç°æœ‰çš„èŠå¤©æµå¼æ¥å£

### **æ•°æ®ç®¡ç†**
- **æœ¬åœ°ä¼˜å…ˆ**: æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨IndexedDB
- **å¢é‡åŒæ­¥**: æ”¯æŒæœªæ¥çš„äº‘ç«¯åŒæ­¥åŠŸèƒ½
- **æ•°æ®è¿ç§»**: å¹³æ»‘çš„ç‰ˆæœ¬å‡çº§è·¯å¾„

---

## ğŸ¨ **UI/UXè®¾è®¡åŸåˆ™**

### **ä¸€è‡´æ€§**
- ä¸æ²‰æ·€æ¨¡å¼ä¿æŒè§†è§‰é£æ ¼ä¸€è‡´
- å¤ç”¨ç°æœ‰çš„ç»„ä»¶åº“å’Œè®¾è®¡tokens
- ç»Ÿä¸€çš„äº¤äº’æ¨¡å¼å’Œå¿«æ·é”®

### **æ¸è¿›å¼å¤æ‚åº¦**
- åˆæ¬¡ä½¿ç”¨ç®€å•ç›´è§‚(ä¸­å¤®è¾“å…¥æ¡†)
- é«˜çº§åŠŸèƒ½é€æ­¥å±•ç°(æ ‡ç­¾åˆ†ç±»ã€ç”»å¸ƒæ“ä½œ)
- æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å·¥ä½œæµç¨‹

### **å“åº”å¼è®¾è®¡**
- é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- çµæ´»çš„å¸ƒå±€è°ƒæ•´
- é”®ç›˜å‹å¥½çš„æ“ä½œ

### **æ€§èƒ½ä¼˜å…ˆ**
- è™šæ‹ŸåŒ–é•¿åˆ—è¡¨
- æ‡’åŠ è½½å’Œå¢é‡æ¸²æŸ“
- æ™ºèƒ½çš„æ•°æ®é¢„å–

---

## ğŸ“ **éªŒæ”¶æ ‡å‡†**

### **åŸºæœ¬åŠŸèƒ½éªŒæ”¶**
- [ ] å¯ä»¥åœ¨æ²‰æ·€æ¨¡å¼å’Œæ²‰æ€æ¨¡å¼ä¹‹é—´åˆ‡æ¢
- [ ] æ²‰æ·€æ¨¡å¼ç”Ÿæˆçš„ç¬”è®°å¯ä»¥ä¿å­˜åˆ°çŸ¥è¯†åº“
- [ ] å¯ä»¥é€šè¿‡æ ‡ç­¾å’Œæœç´¢æ‰¾åˆ°ä¿å­˜çš„ç¬”è®°
- [ ] å¯ä»¥åœ¨ç”»å¸ƒä¸­æé—®å¹¶å¬å›ç›¸å…³ç¬”è®°
- [ ] å¯ä»¥ä¸é—®é¢˜èŠ‚ç‚¹è¿›è¡ŒæŒç»­å¯¹è¯
- [ ] å¯ä»¥åŒå‡»ç¬”è®°æŸ¥çœ‹è¯¦æƒ…å’Œç¼–è¾‘

### **ç”¨æˆ·ä½“éªŒéªŒæ”¶**
- [ ] ç•Œé¢å“åº”æµç•…ï¼Œæ— æ˜æ˜¾å¡é¡¿
- [ ] æœç´¢ç»“æœå‡†ç¡®ä¸”ç›¸å…³æ€§é«˜
- [ ] ç”»å¸ƒæ“ä½œç›´è§‚ï¼Œæ‹–æ‹½ä½“éªŒè‰¯å¥½
- [ ] AIå›ç­”è´¨é‡é«˜ï¼Œå¼•ç”¨çš„ç¬”è®°ç›¸å…³æ€§å¼º
- [ ] ç¬”è®°è¯¦æƒ…çª—å£åŠŸèƒ½å®Œæ•´ï¼Œç¼–è¾‘ä½“éªŒä½³

### **æŠ€æœ¯è´¨é‡éªŒæ”¶**
- [ ] ä»£ç ç»“æ„æ¸…æ™°ï¼Œç»„ä»¶å¤ç”¨æ€§å¥½
- [ ] æ•°æ®å­˜å‚¨ç¨³å®šï¼Œæ— æ•°æ®ä¸¢å¤±
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡(é¡µé¢åŠ è½½<2sï¼Œæœç´¢å“åº”<500ms)
- [ ] é”™è¯¯å¤„ç†å®Œå–„ï¼Œç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

---

## ğŸš€ **å¼€å‘ç­–ç•¥ï¼šMockæ•°æ®ä¼˜å…ˆ**

### **æ¸è¿›å¼å®æ–½æ–¹æ¡ˆ**

#### **Phase 0: Mockæ•°æ®å¿«é€ŸåŸå‹ï¼ˆæ¨èå…ˆè¡Œï¼‰**
ä½¿ç”¨é¢„è®¾çš„é«˜è´¨é‡å‡æ•°æ®ï¼Œå¿«é€Ÿå®ç°æ²‰æ€æ¨¡å¼çš„å®Œæ•´ä½“éªŒï¼š

**ä¼˜åŠ¿ï¼š**
- âœ… å¯ä»¥å¿«é€Ÿæ­å»ºæ²‰æ€æ¨¡å¼çš„å®Œæ•´ç•Œé¢
- âœ… ä¸“æ³¨äºç”»å¸ƒäº¤äº’å’Œå¬å›ä½“éªŒçš„æ‰“ç£¨
- âœ… é¿å…è¢«æ•°æ®æŒä¹…åŒ–çš„å¤æ‚æ€§é˜»å¡
- âœ… æ›´æ—©è·å¾—ç”¨æˆ·åé¦ˆ

**Mockæ•°æ®è®¾è®¡ï¼š**
```typescript
// mockData.ts
export const mockNotes: Note[] = [
  {
    id: '1',
    title: 'AIäº§å“è®¾è®¡æ€è€ƒ',
    content: '# AIäº§å“è®¾è®¡æ€è€ƒ\n\n## æ ¸å¿ƒåŸåˆ™\n1. é€æ˜æ€§...',
    summary: 'æœ¬æ–‡æ¢è®¨äº†AIäº§å“è®¾è®¡çš„æ ¸å¿ƒåŸåˆ™...',
    tags: {
      domain: { primary: 'äº§å“è®¾è®¡', secondary: ['AI', 'UX'] },
      contentType: { docType: 'æ–‡ç« ' }
    },
    createdAt: new Date('2024-01-15'),
    relatedNoteIds: ['2', '5', '8'] // é¢„è®¾å…³è”å…³ç³»
  },
  // å‡†å¤‡20-30ä¸ªæ¶µç›–ä¸åŒé¢†åŸŸçš„é«˜è´¨é‡å‡æ•°æ®
]
```

#### **æœ€å°åŒ–ä¿å­˜åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰**
åœ¨æ²‰æ·€æ¨¡å¼æ·»åŠ ç®€å•çš„ä¿å­˜æŒ‰é’®ï¼š
```typescript
const handleSaveToLibrary = async () => {
  const note = {
    id: generateId(),
    title: extractTitleFromMarkdown(notes),
    content: notes,
    originalContent: originalContent,
    summary: generateSummary(notes),
    tags: await generateTagsWithAI(notes),
    createdAt: new Date()
  }
  
  // æš‚æ—¶ä¿å­˜åˆ°localStorage
  const saved = JSON.parse(localStorage.getItem('notes') || '[]')
  saved.push(note)
  localStorage.setItem('notes', JSON.stringify(saved))
  
  toast.success('å·²ä¿å­˜åˆ°çŸ¥è¯†åº“')
}
```

---

## ğŸ” **æ™ºèƒ½å¬å›ç®—æ³•è®¾è®¡**

### **Phase 1: å…³é”®è¯åŒ¹é…ç®—æ³•ï¼ˆç«‹å³å®ç°ï¼‰**
```typescript
// ç®€å•ä½†æœ‰æ•ˆçš„å¬å›ç®—æ³•
function recallNotes(question: string, allNotes: Note[]): Note[] {
  // 1. æå–å…³é”®è¯
  const keywords = extractKeywords(question)
  
  // 2. è®¡ç®—ç›¸å…³æ€§åˆ†æ•°
  const scoredNotes = allNotes.map(note => {
    let score = 0
    
    // æ ‡é¢˜åŒ¹é…ï¼ˆæƒé‡é«˜ï¼‰
    keywords.forEach(keyword => {
      if (note.title.toLowerCase().includes(keyword.toLowerCase())) {
        score += 10
      }
    })
    
    // å†…å®¹åŒ¹é…
    keywords.forEach(keyword => {
      const matches = (note.content.match(new RegExp(keyword, 'gi')) || []).length
      score += matches * 2
    })
    
    // æ ‡ç­¾åŒ¹é…
    keywords.forEach(keyword => {
      if (note.tags.domain.primary.includes(keyword) || 
          note.tags.domain.secondary.includes(keyword)) {
        score += 5
      }
    })
    
    // æ—¶é—´è¡°å‡ï¼ˆæœ€è¿‘çš„ç¬”è®°ç•¥å¾®åŠ åˆ†ï¼‰
    const daysSinceCreated = (Date.now() - note.createdAt.getTime()) / (1000 * 60 * 60 * 24)
    score += Math.max(0, 5 - daysSinceCreated / 30)
    
    return { note, score }
  })
  
  // 3. è¿”å›å¾—åˆ†æœ€é«˜çš„ç¬”è®°
  return scoredNotes
    .filter(item => item.score > 0)
    .sort((a, b) => b.score - a.score)
    .slice(0, 5)
    .map(item => item.note)
}
```

### **Phase 2: æ··åˆå¬å›ï¼ˆMockæ•°æ®é˜¶æ®µï¼‰**
```typescript
// ç»“åˆé¢„è®¾å…³è”å’ŒAIåˆ†æ
async function hybridRecall(question: string, notes: Note[]): Promise<Note[]> {
  // 1. è®©AIåˆ†æé—®é¢˜æ„å›¾
  const analysis = await analyzeQuestion(question)
  
  // 2. å…³é”®è¯å¬å›
  const keywordResults = keywordBasedRecall(analysis.keywords, notes)
  
  // 3. åˆ©ç”¨é¢„è®¾çš„å…³è”å…³ç³»
  const relatedResults = keywordResults.flatMap(note => 
    note.relatedNoteIds?.map(id => notes.find(n => n.id === id)).filter(Boolean) || []
  )
  
  // 4. åˆå¹¶å»é‡å¹¶æ’åº
  const combined = [...keywordResults, ...relatedResults]
  const unique = Array.from(new Map(combined.map(n => [n.id, n])).values())
  
  return unique.slice(0, 5)
}

// AIåˆ†æé—®é¢˜
async function analyzeQuestion(question: string) {
  const prompt = `
åˆ†æç”¨æˆ·é—®é¢˜ï¼Œæå–å…³é”®ä¿¡æ¯ï¼š
é—®é¢˜ï¼š${question}

è¿”å›JSONæ ¼å¼ï¼š
{
  "intent": "é—®é¢˜çš„æ„å›¾",
  "keywords": ["å…³é”®è¯1", "å…³é”®è¯2"],
  "suggestedTags": ["å¯èƒ½ç›¸å…³çš„æ ‡ç­¾"],
  "domain": "é—®é¢˜æ‰€å±é¢†åŸŸ"
}
`
  return await callAI(prompt)
}
```

### **Phase 3: å‘é‡åµŒå…¥ï¼ˆåæœŸä¼˜åŒ–ï¼‰**
```typescript
// ä½¿ç”¨è½»é‡çº§æœ¬åœ°æ¨¡å‹ï¼ˆå¯é€‰ï¼‰
import { pipeline } from '@xenova/transformers'

const embedder = await pipeline(
  'feature-extraction',
  'Xenova/all-MiniLM-L6-v2' // è½»é‡çº§æ¨¡å‹
)

// æˆ–ä½¿ç”¨OpenAI Embedding APIï¼ˆéœ€è¦æˆæœ¬ï¼‰
async function generateEmbedding(text: string): Promise<number[]> {
  const response = await fetch('/api/embedding', {
    method: 'POST',
    body: JSON.stringify({ text })
  })
  return response.json()
}
```

---

## ğŸ“Š **Mockæ•°æ®å†…å®¹è§„åˆ’**

### **å‡†å¤‡çš„ç¬”è®°ä¸»é¢˜ï¼ˆè¦†ç›–ä¸åŒé¢†åŸŸï¼‰**

**æŠ€æœ¯ç±»ï¼š**
- React Hooksæœ€ä½³å®è·µ
- å‰ç«¯æ€§èƒ½ä¼˜åŒ–æŒ‡å—
- TypeScriptè¿›é˜¶æŠ€å·§
- å¾®æœåŠ¡æ¶æ„è®¾è®¡
- æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–

**äº§å“è®¾è®¡ç±»ï¼š**
- AIäº§å“è®¾è®¡æ€è€ƒ
- ç”¨æˆ·ä½“éªŒè®¾è®¡åŸåˆ™
- äº§å“éœ€æ±‚æ–‡æ¡£æ¨¡æ¿
- æ•æ·å¼€å‘å®è·µ
- ç”¨æˆ·ç ”ç©¶æ–¹æ³•è®º

**å•†ä¸šç­–ç•¥ç±»ï¼š**
- å•†ä¸šæ¨¡å¼ç”»å¸ƒ
- å¢é•¿é»‘å®¢ç­–ç•¥
- å¸‚åœºè¥é”€åŸºç¡€
- åˆ›ä¸šå…¬å¸ç®¡ç†
- æŠ•èµ„åŸºç¡€çŸ¥è¯†

**å­¦ä¹ æˆé•¿ç±»ï¼š**
- å¦‚ä½•é«˜æ•ˆå­¦ä¹ 
- æ—¶é—´ç®¡ç†æ–¹æ³•
- ä¸ªäººçŸ¥è¯†ç®¡ç†
- èŒä¸šå‘å±•è§„åˆ’
- å¿ƒç†å­¦åŸºç¡€

### **é¢„è®¾å…³è”å…³ç³»**
```typescript
const relationshipMap = {
  'React Hooksæœ€ä½³å®è·µ': ['å‰ç«¯æ€§èƒ½ä¼˜åŒ–æŒ‡å—', 'TypeScriptè¿›é˜¶æŠ€å·§'],
  'AIäº§å“è®¾è®¡æ€è€ƒ': ['ç”¨æˆ·ä½“éªŒè®¾è®¡åŸåˆ™', 'äº§å“éœ€æ±‚æ–‡æ¡£æ¨¡æ¿'],
  'å•†ä¸šæ¨¡å¼ç”»å¸ƒ': ['åˆ›ä¸šå…¬å¸ç®¡ç†', 'å¸‚åœºè¥é”€åŸºç¡€'],
  // ... æ›´å¤šå…³è”å…³ç³»
}
```

---

## ğŸ”§ **æ•°æ®æœåŠ¡æ¥å£è®¾è®¡**

```typescript
// æ•°æ®æœåŠ¡æ¥å£ï¼ˆä¾¿äºåæœŸæ›¿æ¢ï¼‰
interface DataService {
  // åŸºç¡€CRUD
  getNotes(): Promise<Note[]>
  getNote(id: string): Promise<Note | null>
  saveNote(note: Note): Promise<void>
  updateNote(id: string, note: Partial<Note>): Promise<void>
  deleteNote(id: string): Promise<void>
  
  // æœç´¢å’Œå¬å›
  searchNotes(query: string): Promise<Note[]>
  recallNotes(question: string): Promise<Note[]>
  getRelatedNotes(noteId: string): Promise<Note[]>
  
  // æ ‡ç­¾ç®¡ç†
  getAllTags(): Promise<string[]>
  getNotesByTag(tag: string): Promise<Note[]>
}

// Mockå®ç°
class MockDataService implements DataService {
  private notes = [...mockNotes]
  
  async getNotes() {
    return this.notes
  }
  
  async recallNotes(question: string) {
    return hybridRecall(question, this.notes)
  }
  
  // ... å…¶ä»–æ–¹æ³•çš„Mockå®ç°
}

// çœŸå®å®ç°ï¼ˆåæœŸï¼‰
class IndexedDBService implements DataService {
  // ä½¿ç”¨IndexedDBçš„çœŸå®å®ç°
}

// ä¾èµ–æ³¨å…¥
export const dataService = process.env.USE_MOCK_DATA 
  ? new MockDataService() 
  : new IndexedDBService()
```

---

## ğŸ“… **è°ƒæ•´åçš„å¼€å‘è®¡åˆ’**

### **Week 1-2: Mockæ•°æ®ç‰ˆæœ¬**
- [ ] æ²‰æ€æ¨¡å¼ç•Œé¢æ­å»º
- [ ] Mockæ•°æ®å‡†å¤‡ï¼ˆ20-30ç¯‡é«˜è´¨é‡ç¬”è®°ï¼‰
- [ ] åŸºç¡€å¬å›ç®—æ³•å®ç°
- [ ] ç”»å¸ƒäº¤äº’åŸå‹

### **Week 3-4: æ ¸å¿ƒä½“éªŒæ‰“ç£¨**
- [ ] é—®é¢˜èŠ‚ç‚¹å’Œå¯¹è¯åŠŸèƒ½
- [ ] æ‹–æ‹½äº¤äº’ä¼˜åŒ–
- [ ] ç¬”è®°è¯¦æƒ…çª—å£
- [ ] ç”¨æˆ·ä½“éªŒæµ‹è¯•å’Œè¿­ä»£

### **Week 5-6: æ•°æ®æŒä¹…åŒ–**
- [ ] IndexedDBé›†æˆ
- [ ] ä»æ²‰æ·€æ¨¡å¼ä¿å­˜åŠŸèƒ½
- [ ] çœŸå®æ•°æ®è¿ç§»
- [ ] æ€§èƒ½ä¼˜åŒ–

### **Week 7-8: é«˜çº§åŠŸèƒ½**
- [ ] AIæ ‡ç­¾ç”Ÿæˆ
- [ ] è¯­ä¹‰æœç´¢ï¼ˆå¯é€‰ï¼‰
- [ ] å¯¼å…¥å¯¼å‡ºåŠŸèƒ½
- [ ] æœ€ç»ˆä¼˜åŒ–

---

> æœ¬æ–‡æ¡£å°†ä½œä¸ºæ²‰æ€æ¨¡å¼å¼€å‘çš„æŒ‡å¯¼æ–‡æ¡£ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè¿­ä»£æ›´æ–°ã€‚