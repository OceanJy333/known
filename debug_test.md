# 画布召回卡片修复测试

## 问题总结
- 画布召回卡片后不显示在画布上
- 日志显示API返回数据正常，但卡片不渲染

## 修复内容
1. 移除了双重状态更新冲突
2. 统一在`handleRecalledCards`中处理知识库更新
3. 使用同步方式更新`localKnowledgeBase`
4. 验证笔记存在性后再添加卡片

## 测试步骤
1. 进入沉思模式
2. 提问："产品设计的核心原则是什么？"
3. 检查是否有卡片出现在画布上
4. 检查浏览器控制台日志

## 预期结果
- 卡片应该正常显示在画布上
- 控制台日志显示卡片添加成功
- 卡片可以正常交互和拖拽

## 技术细节
- 修复了`CanvasArea.tsx`中的状态更新逻辑
- 优化了`handleRecalledCards`函数
- 确保`knowledgeBaseMap`正确包含召回的卡片数据